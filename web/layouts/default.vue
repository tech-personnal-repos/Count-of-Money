<template>
    <header></header>
    <main class="flex-1 flex h-screen">
        <nav class="p-2 h-full">
            <ul class="flex flex-col items-center gap-4 h-full">
                <template v-for="(item, index) in useLeftNavBar">
                    <li v-if="!index" class="flex-1 flex justify-start">
                        <NuxtLink :to="item.to">
                            <component
                                :is="item.svg"
                                class="rounded-xl w-16 h-16"
                                :class="{
                                    'bg-accent-15': router.path.startsWith(
                                        item.to
                                    ) && index
                                }"
                            />
                        </NuxtLink>
                    </li>
                    <li v-else class="w-14 h-14">
                        <NuxtLink :to="item.to">
                            <component
                                :is="item.svg"
                                class="rounded-xl w-full h-full"
                                :class="{
                                    'bg-accent-15': router.path.startsWith(
                                        item.to
                                    ) && index
                                }"
                            />
                        </NuxtLink>
                    </li>
                </template>
                <li class="flex-1"></li>
            </ul>
        </nav>
        <div class="w-0.5 h-full bg-gray-200"></div>
        <div class="h-screen w-full flex-col">
            <nav class="w-full h-[70px] p-2">
                <ul class="w-full h-full items-center flex justify-end gap-4">
                    <li class="mr-auto">
                        <h1>{{ title }}</h1>
                    </li>
                    <li class="self-start">
                        <SvgSettings class="w-8 h-8" color="var(--primary)" />
                    </li>
                    <li class="self-start">
                        <SvgNotification
                            class="w-8 h-8"
                            color="var(--primary)"
                        />
                    </li>

                    <li class="self-start">
                        <SvgAccount class="w-8 h-8" color="var(--primary)" />
                    </li>
                </ul>
            </nav>
            <div class="h-[calc(100%-70px)] w-full pl-6 pr-10 pt-1">
                <slot />
            </div>
        </div>
    </main>
</template>

<script lang="ts" setup>
const router = useRoute();

const title = computed(() => {
    const path = router.path;
    if (path.startsWith('/dashboard')) return 'Dashboard';
    if (path.startsWith('/articles')) return 'Articles';
    if (path.startsWith('/explore')) return 'Explore';
    return 'Count of Money';
});
</script>

<style lang="scss" scoped></style>
